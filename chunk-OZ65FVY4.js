import{g as I,l as L}from"./chunk-QJDXLZKG.js";import{i as z,m as q,o as A}from"./chunk-IQGEQDUJ.js";import{i as E,ka as f,ma as N,na as B,oa as S,pa as P,ra as O,sa as G,ta as R,xa as j}from"./chunk-JZSWF5XA.js";import"./chunk-FHBAZE5X.js";import{c as D,d as M}from"./chunk-SHVHTJZ7.js";import{Ca as t,Fb as y,Hb as d,Jb as c,Qa as V,S as F,Sb as C,Ub as T,Xb as s,Y as v,Yb as l,Z as _,bb as g,cb as x,gb as p,hb as a,ia as b,ib as i,jb as w,qb as k,sb as h,tb as m}from"./chunk-EIVL4LAA.js";var U=()=>({borderRadius:"12px",backgroundColor:"white",color:"#374151",padding:"0.5rem 2rem",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}),$=()=>({borderRadius:"16px",width:"100%",height:"56px",fontSize:"18px"}),W=(r,o)=>({"text-gray-400 cursor-not-allowed":r,"text-(--primary-500) cursor-pointer font-bold":o});function X(r,o){if(r&1&&(a(0,"p",7),d(1),i()),r&2){let e=m();t(),c(" ",e.email," ")}}function Y(r,o){if(r&1&&(a(0,"span"),d(1),i()),r&2){let e=m(2);t(),c("(",e.timerDisplay(),")")}}function J(r,o){if(r&1){let e=k();a(0,"div",9)(1,"form",13)(2,"div",14)(3,"label",15),d(4),s(5,"translate"),i(),w(6,"uikit-otp",16),i(),a(7,"div",17)(8,"uikit-button",18),s(9,"translate"),h("click",function(){v(e);let u=m();return _(u.verifyOtp())}),i()()(),a(10,"div",19)(11,"span",20),h("click",function(){v(e);let u=m();return _(u.resendCode())}),d(12),s(13,"translate"),g(14,Y,2,1,"span"),i()()()}if(r&2){let e=m();t(),p("formGroup",e.otpForm),t(3),c(" ",l(5,14,"auth.enterVerificationCode")," "),t(2),p("length",4)("integerOnly",!0)("size","large"),t(2),y(C(20,$)),p("label",l(9,16,"auth.verify"))("icon",e.language()==="ar"?"pi pi-arrow-left":"pi pi-arrow-right")("iconPosition",e.language()==="ar"?"left":"right")("disabled",e.otpForm.invalid),t(3),p("ngClass",T(21,W,e.timerValue()>0,e.timerValue()===0)),t(),c(" ",l(13,18,"auth.resendCode")," "),t(2),x(e.timerValue()>0?14:-1)}}function K(r,o){if(r&1){let e=k();a(0,"form",10)(1,"div",21)(2,"label",15),d(3),s(4,"translate"),i(),w(5,"uikit-input-password",22),s(6,"translate"),i(),a(7,"div",21)(8,"label",15),d(9),s(10,"translate"),i(),w(11,"uikit-input-password",23),s(12,"translate"),i(),a(13,"div",24)(14,"uikit-button",18),s(15,"translate"),h("click",function(){v(e);let u=m();return _(u.confirm())}),i()()()}if(r&2){let e=m();p("formGroup",e.resetPasswordForm),t(3),c(" ",l(4,11,"auth.setAPassword")," "),t(2),p("placeholder",l(6,13,"auth.passwordPlaceholder")),t(4),c(" ",l(10,15,"auth.confirmPassword")," "),t(2),p("placeholder",l(12,17,"auth.passwordPlaceholder")),t(3),y(C(21,$)),p("label",l(15,19,"auth.confirm"))("icon",e.language()==="ar"?"pi pi-arrow-left":"pi pi-arrow-right")("iconPosition",e.language()==="ar"?"left":"right")("disabled",e.resetPasswordForm.invalid)}}var H=class r{translationService=F(L);router=F(I);language=this.translationService.currentLang;step=b("otp");email="d123agency***@gmail.com";timerValue=b(119);timerDisplay=b("01:59");timerInterval;otpForm=new S({otp:new P("",[f.required,f.minLength(4)])});resetPasswordForm=new S({password:new P("",[f.required,f.minLength(8)]),confirmPassword:new P("",[f.required])},{validators:this.passwordMatchValidator});ngOnInit(){this.startTimer()}ngOnDestroy(){this.stopTimer()}startTimer(){this.stopTimer(),this.timerInterval=setInterval(()=>{this.timerValue()>0?(this.timerValue.update(o=>o-1),this.updateTimerDisplay()):this.stopTimer()},1e3)}stopTimer(){this.timerInterval&&clearInterval(this.timerInterval)}updateTimerDisplay(){let o=Math.floor(this.timerValue()/60),e=this.timerValue()%60;this.timerDisplay.set(`${o.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`)}resendCode(){this.timerValue()===0&&(this.timerValue.set(119),this.startTimer(),console.log("Resending code..."))}verifyOtp(){this.otpForm.valid&&(this.step.set("password"),this.stopTimer())}passwordMatchValidator(o){let e=o.get("password"),n=o.get("confirmPassword");return e&&n&&e.value!==n.value?n.setErrors({passwordMismatch:!0}):n&&n.setErrors(null),null}confirm(){this.resetPasswordForm.valid&&(console.log("Password reset confirmed"),this.router.navigate(["/auth/login"]))}goBack(){this.step()==="password"?(this.resetPasswordForm.reset(),this.otpForm.reset(),this.step.set("otp"),this.startTimer()):this.router.navigate(["/auth/login"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-forget-password"]],decls:18,vars:15,consts:[[1,"lets-start","w-full","h-screen","flex","items-center","justify-center","p-4"],[1,"card","w-[clamp(300px,90%,600px)]","shadow-lg","rounded-[24px]","overflow-hidden","bg-white","p-2!"],[1,"bg-(--primary-500)!","py-8!","flex","flex-col","items-center","justify-center","text-center","gap-4","text-white","rounded-[24px]"],[1,"bg-white","h-[72px]","w-[72px]","rounded-[10px]","flex","items-center","justify-center"],[1,"icon-message","text-4xl!","text-(--primary-500)!"],[1,"text-[clamp(24px,5vw,36px)]!","font-bold!"],[1,"text-[clamp(16px,5vw,20px)]!","font-medium!","opacity-90","leading-relaxed","max-w-[400px]"],[1,"text-[clamp(16px,5vw,18px)]!","font-bold!","opacity-100"],[1,"px-20!","py-10!","flex","flex-col","gap-8"],[1,"flex","flex-col","gap-8","items-center"],[1,"flex","flex-col","gap-6","w-full",3,"formGroup"],[1,"fixed","bottom-8","right-8"],[3,"click","label"],[1,"flex","flex-col","gap-8","w-full","items-center",3,"formGroup"],[1,"flex","flex-col","gap-4","w-full","items-center"],[1,"font-bold!","text-[16px]!","text-[#1F2937]"],["formControlName","otp",3,"length","integerOnly","size"],[1,"w-full"],[3,"click","label","icon","iconPosition","disabled"],[1,"text-center"],[1,"transition-colors","duration-300",3,"click","ngClass"],[1,"flex","flex-col","gap-2","w-full"],["formControlName","password",3,"placeholder"],["formControlName","confirmPassword",3,"placeholder"],[1,"mt-4","w-full"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"span",4),i(),a(5,"h1",5),d(6),s(7,"translate"),i(),a(8,"p",6),d(9),s(10,"translate"),i(),g(11,X,2,1,"p",7),i(),a(12,"div",8),g(13,J,15,24,"div",9),g(14,K,16,22,"form",10),i()(),a(15,"div",11)(16,"uikit-button",12),s(17,"translate"),h("click",function(){return n.goBack()}),i()()()),e&2&&(t(6),c(" ",l(7,8,n.step()==="otp"?"auth.verifyYourAccount":"auth.createNewPassword")," "),t(3),c(" ",l(10,10,n.step()==="otp"?"auth.verificationCodeSent":"auth.newPasswordSubtext")," "),t(2),x(n.step()==="otp"?11:-1),t(2),x(n.step()==="otp"?13:-1),t(),x(n.step()==="password"?14:-1),t(2),y(C(14,U)),p("label",l(17,12,"common.back")))},dependencies:[M,z,q,j,O,N,B,R,G,A,E,D],styles:['.lets-start[_ngcontent-%COMP%]{background-image:url("./media/lets-start-bg-VGHHUAXI.svg");background-size:cover;background-position:center;background-repeat:no-repeat;background-attachment:fixed;background-blend-mode:overlay;background-color:#0d94881a;min-height:100vh;width:100%}']})};export{H as ForgetPassword};
